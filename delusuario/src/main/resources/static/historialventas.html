<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="Historialventas.css">
  <link rel="icon" type="image/x-icon" href="imgs/Icon-modified.png">
  <title>Jardín Sublime</title>
</head>
<body>
<div class="container">
  <div class="sidebar">
    <ul>
      <hr>
      <li><a href="http://localhost:8080/index.html">Inicio</a></li>
      <hr>
      <li><a href="http://localhost:8080/todos.html">Productos</a></li>
      <hr>
      <li><a href="http://localhost:8080/inventario.html">Inventario</a></li>
      <hr>
      <li><a href="http://localhost:8080/historialventas.html">Historial</a></li>
      <hr>
      <li><a href="#">Clientes</a></li>
      <hr>
      <li><a href="#">Configuración</a></li>
      <hr>
      <li><a href="http://localhost:8080/login.html">Cerrar sesión</a></li>
      <hr>
    </ul>
  </div>
  <div class="content">
    <h1 class="titulo">Tabla de ventas</h1>
    <table id="ventas-table">
      <thead>
      <tr>
        <th>Código de ventas</th>
        <th>Productos</th>
        <th>Costo total</th>
        <th>Fecha de venta</th>
        <th>Acciones</th>
      </tr>
      </thead>
      <tbody>
      <!-- Datos de ventas se agregarán aquí dinámicamente -->
      </tbody>
    </table>
  </div>
</div>

<script>
  fetch('/historiales-venta/resumen-ventas')
          .then(response => response.json())
          .then(data => {
            const ventasTable = document.getElementById('ventas-table');

            // Iterar sobre los datos de ventas y agregar filas a la tabla
            data.forEach(venta => {
              const row = document.createElement('tr');
              row.innerHTML = `
        <td>${venta[0]}</td>
        <td>${venta[1]}</td>
        <td>${venta[2]}</td>
        <td>${venta[3]}</td>
        <td><button class="ver" onclick="#">Ver</button></td>
      `;
              ventasTable.querySelector('tbody').appendChild(row);
            });
          })
          .catch(error => console.log(error));

</script>
</body>
</html>
